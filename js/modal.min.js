const modal=document.getElementById("imageModal");if(modal){const modalImg=modal.querySelector(".modal-img");const closeBtn=modal.querySelector(".modal-close");const gridImages=document.querySelectorAll(".image-grid img, .image-grid-span img");const openModal=(imgSrc,imgAlt)=>{modalImg.src=imgSrc;modalImg.alt=imgAlt||"Image";modalImg.onload=()=>{modal.classList.add("show")};document.body.style.overflow="hidden";const preventScroll=(e)=>{e.preventDefault()};modal.addEventListener("wheel",preventScroll,{passive:false});modal.preventScrollHandler=preventScroll};const closeModal=()=>{modal.classList.remove("show");setTimeout(()=>{modalImg.src=""},300);document.body.style.overflow="";if(modal.preventScrollHandler){modal.removeEventListener("wheel",modal.preventScrollHandler)}};gridImages.forEach((img)=>{img.addEventListener("click",function(){const fullSrc=this.getAttribute("data-src")||this.src;openModal(fullSrc,this.alt)})});if(closeBtn){closeBtn.addEventListener("click",closeModal)}document.addEventListener("keydown",(e)=>{if(e.key==="Escape"&&modal.classList.contains("show")){closeModal()}})}